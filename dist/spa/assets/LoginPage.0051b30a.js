import{Q as p}from"./QToolbarTitle.fca1f4ce.js";import{Q as d}from"./QHeader.947f196e.js";import{Q as g}from"./QInput.146b8fb0.js";import{Q as u}from"./QBtn.3966bacc.js";import{Q as f}from"./QForm.38be43ab.js";import{Q as h}from"./QCardSection.d0f1b305.js";import{Q as _}from"./QCard.bcef68f9.js";import{Q}from"./QPage.0f877eba.js";import{l as a,G as i,f as s,n as t,F as P,H as x,I as M,J as n,K as l,L as w}from"./index.2eb7711c.js";import{_ as y}from"./Home2.3af6e089.js";import{_ as C}from"./plugin-vue_export-helper.21dcd24c.js";import"./render.4b456007.js";import"./QResizeObserver.d30df9a7.js";import"./use-key-composition.e809075d.js";import"./focus-manager.d3efdf79.js";import"./dom.26cec04e.js";const b={name:"LoginPage",data(){return{pessoas:[],newPessoa:{cpf:"",nome:"",endereco:""},errorMessage:"",successMessage:""}},created(){const e=localStorage.getItem("pessoas");e&&(this.pessoas=JSON.parse(e))},methods:{isValidCpf(e){return e=e.replace(/\D/g,""),e.length===11},handleLogin(){if(this.errorMessage="",this.successMessage="",!this.isValidCpf(this.newPessoa.cpf)){this.errorMessage="CPF deve ter 11 d\xEDgitos!";return}this.pessoas.find(r=>r.cpf===this.newPessoa.cpf)?(this.successMessage="Login cadastrado com Sucesso!",localStorage.setItem("loggedInCpf",this.newPessoa.cpf),this.$router.push("/Home")):(this.errorMessage="Cliente nao possui login!",this.$router.push("/Registro"))}}},S={key:0,class:"text-negative q-mt-md"},V={key:1,class:"text-positive q-mt-md"},v=w("img",{src:y,alt:"Locuos por frango",style:{width:"100%",opacity:"0.4"}},null,-1);function L(e,r,k,q,o,m){return a(),i(P,null,[s(d,{class:"qheader",elevated:"",style:{"background-color":"rgba(255, 0, 0, 0.85)"}},{default:t(()=>[s(p,{style:{"text-align":"center"}},{default:t(()=>[x("Tela Login")]),_:1})]),_:1}),s(Q,{style:{"margin-top":"0px",color:"white"}},{default:t(()=>[s(_,{style:{"margin-top":"50px","background-color":"transparent"}},{default:t(()=>[s(h,{color:"white"},{default:t(()=>[s(f,{onSubmit:M(m.handleLogin,["prevent"])},{default:t(()=>[s(g,{color:"red",modelValue:o.newPessoa.cpf,"onUpdate:modelValue":r[0]||(r[0]=c=>o.newPessoa.cpf=c),type:"number",label:"CPF",required:""},null,8,["modelValue"]),s(u,{label:"ACESSAR",type:"submit",color:"red",class:"q-mt-md"})]),_:1},8,["onSubmit"]),o.errorMessage?(a(),i("div",S,n(o.errorMessage),1)):l("",!0),o.successMessage?(a(),i("div",V,n(o.successMessage),1)):l("",!0)]),_:1})]),_:1}),v]),_:1})],64)}var z=C(b,[["render",L]]);export{z as default};
